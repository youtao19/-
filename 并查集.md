# 并查集

#### 可实现功能

1. 将两个集合合并
2. 查询两个元素是否在一个集合



#### 基本原理：

每个集合用一颗树来表示。树根的编号就是整个集合编号。每个节点储存它的父节点，p[x]表示它x的父节点。



### 问题

1. **如何判断树根**：if(p[x] == x);
2. **如何求x 的集合编号：**`while(x != p[x]) x = p[x];`
3. **如何合并两个集合**：px是x的集合编号，py是y的集合编号，则令px = py；

## 核心优化

# 可以让路径上的节点都直接指向它的父节点。

```C++
int find(int x){
    if(p[x] != x) p[x] = find(p[x]);
    return p[x];
}
```



#### 如何判断根节点

`if(x == p[x])`则是根节点



#### 如何合并集合

将集合a作为集合b的子节点。